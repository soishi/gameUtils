# CLAUDE.md
すべての応答は日本語で行います。


# プロジェクトの概要

# 開発コマンド

## 基本コマンド
### GitHub CLI (gh)
- Issueリスト表示: `powershell -Command "& 'C:\Program Files\GitHub CLI\gh.exe' issue list"`
- Issue詳細表示: `powershell -Command "& 'C:\Program Files\GitHub CLI\gh.exe' issue view [issue番号]"`
- Issue作成: `powershell -Command "& 'C:\Program Files\GitHub CLI\gh.exe' issue create"`
- Issueクローズ: `powershell -Command "& 'C:\Program Files\GitHub CLI\gh.exe' issue close [issue番号]"`

### フォーマット
- フォーマット実行: `cd apps/death-tap-counter && npm run format`
- フォーマット確認: `cd apps/death-tap-counter && npm run format:check`
# 開発規約

## 基本方針
- プランニングの結果は常に日本語で返すようにしてください
- TDDを実践してください
- モダンなTypeScript、next.jsのフロントエンドプロジェクトのベストプラクティスにしたがってください
- デバッグ出力は原則的にconsole.logで出力するものに限定します。ユーザーに指示されない限り、uiにデバッグボタンやボックスを追加してはいけません

## 実行ルール
- タスクの終了時、編集したファイルのlintエラーを修復すること
- タスクの終了時、編集したファイルの型エラーを修復すること
- タスクの終了時、フォーマットコマンドを実行すること
- 上記の終了後、git commitしてください。その際も日本語でコミットメッセージを記載してください
- タスク完了後、リモートリポジトリにプッシュしてください

## 許可事項・禁止事項

### 許可なくやってい良いこと
- lint、テスト、タイプチェック、gitコミットの実行

### 許可なくやってはいけないこと
- package.jsonやeslintの設定を変えること

# 設計原則

## コーディング原則
- 関数は単一責任の原則に従って作成し、DRYの原則に沿います
- 日本語でコメントを入れてください
- コメントには現在の仕様・意図のみを書き、過去の修正内容は記載しない。初見の読者に不要な情報は省く。
- 将来的な拡張を視野に入れたコードは不要です。
- 現在未使用で、後方互換性を残したコードはデッドコードとみなしてください。デッドコードはコメントアウトするのでなく、削除してください。

## 命名規則
- typoは即座に修正すること（例：Replay → Reply）
- 一貫性のある命名を維持
- boolean値は is/has/can などのプレフィックスを使用
- 関数名は動詞から始める

## 型定義
- src/types のファイルを利用し、コンポーネント内での型の再定義は必要最低限に留めること
- 指示なくsrc/types内のファイルは編集してはいけません

## 定数管理
### 定数保存場所

### 定数管理の詳細ルール
- マジックナンバーは定数として定義すること。

## インターフェース設計の原則
- 責務ごとにインターフェースを分割すること
- 単一責任の原則に従い、各インターフェースは1つの責務のみを持つ
- データ型には副作用を持つ関数を含めない
- 副作用を持つ関数は専用のActionsインターフェースに集約

# 技術的な実装ガイド

## データフロー
- definePropsは特別な理由がない限り使用しない
- ディープコピーはstructuredCloneを使用

## Lintエラー対応
### 基本ルール
- ユーザーの許可なく例外ルールを設定してはいけません
- lintを通すため、無理矢理データの処理方法を変更してはいけません
- lintを通すため、問題箇所のコメントアウトで回避してはいけません

## テスト設計
- 各インターフェースごとに分離してテスト

## チェックポイント

## Serena MCP使用ガイドライン
- **複雑なコード解析**や**アーキテクチャ理解**が必要な場面では積極的にSerenaを使用する
- **Serena推奨場面**：
  - コードベース全体の構造理解
  - シンボル間の参照関係調査
  - クラス・関数・変数の使用箇所特定
  - ファイル間の依存関係分析
  - 大規模リファクタリングの影響範囲調査
  - 設計パターンの実装箇所探索
  - バグの原因となる関連コード特定
- **通常ツール推奨場面**：
  - 単純なファイル読み込み・編集
  - 既知のファイル・関数への直接的な変更
  - シンプルな文字列検索・置換
- Serena MCPの機能を活用して効率的で正確なコード分析を心がける

# レポート作成
## 保存場所
memo\report\
## ファイル名
ファイル名の先頭にタイムスタンプ(YYMMDD_HHMM)を入れてください。
例: 250911_1045_レポート.md